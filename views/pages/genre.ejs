<main>
  <section class="section">
   <h2 class="section-title"><%= genreName %> Manga</h2>
   <% if (results.length === 0) { %>
     <p class="no-results">No results found for this genre.</p>
   <% } else { %>
     <div class="search-results-grid">
       <% results.forEach(item => { %>
         <div class="card">
           <a href="/manga/<%= item.slug %>">
             <img src="<%= item.thumbnail || '/images/no-image.jpg' %>" alt="<%= item.title %>">
             <h3><%= item.title %></h3>
           </a>
         </div>
       <% }); %>
     </div>
     
     <div class="pagination">
       <% if (currentPage > 1) { %>
         <a href="/genres/<%= genreSlug %>?page=<%= parseInt(currentPage) - 1 %>" class="pagination-link prev">Previous</a>
       <% } %>
       
       <% for(let i = Math.max(1, currentPage - 2); i <= Math.min(parseInt(totalPages), parseInt(currentPage) + 2); i++) { %>
         <a href="/genres/<%= genreSlug %>?page=<%= i %>" class="pagination-link <%= i == currentPage ? 'active' : '' %>"><%= i %></a>
       <% } %>
       
       <% if (currentPage < totalPages) { %>
         <a href="/genres/<%= genreSlug %>?page=<%= parseInt(currentPage) + 1 %>" class="pagination-link next">Next</a>
       <% } %>
     </div>
   <% } %>
 </section>
</main>